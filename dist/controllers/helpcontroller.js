"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&("object"==typeof call||"function"==typeof call)?call:self}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var HelpController=function(_Controller){function HelpController(){_classCallCheck(this,HelpController);var _this=_possibleConstructorReturn(this,(HelpController.__proto__||Object.getPrototypeOf(HelpController)).call(this));return _this.tripInit={Warehouse:function Warehouse(a){a.start(),$("#purchase-container").css("background-color","#5cb85c")},StatusBar:function StatusBar(a){a.start(),$(".timer").click(function(){a.next()})},FactoryOrders:function FactoryOrders(a){GAME.model.orders.length?a.start():toastr.warning(Controller.l("Make sure you have placed an order at the factory."))},Factory:function Factory(a){a.start(),$("form[name=newFactoryOrder] :input").change(function(){a.next()});var b=$(".factory button[type=submit]");b.css("background-color","#5cb85c"),b.click(function(){a.next()})},Customers:function Customers(a){GAME.model.customers.length?a.start():toastr.warning(Controller.l("There has to be at least one customer. Start the game by pressing the 'play' button. Customers will the pop up automatically."),"",{timeOut:7e3})}},_this.tripIntroTour=["StatusBar","Factory","FactoryOrders","Warehouse","Customers"],_this.tripInit={Warehouse:function Warehouse(a){a.start(),$("#purchase-container").css("background-color","#5cb85c")},StatusBar:function StatusBar(a){a.start(),$(".timer").click(function(){a.next()})},FactoryOrders:function FactoryOrders(a){GAME.model.orders.length?a.start():toastr.warning(Controller.l("Make sure you have placed an order at the factory."))},Factory:function Factory(a){a.start(),$("form[name=newFactoryOrder] :input").change(function(){a.next()});var b=$(".factory button[type=submit]");b.css("background-color","#5cb85c"),b.click(function(){a.next()})},Customers:function Customers(a){GAME.model.customers.length?a.start():toastr.warning(Controller.l("There has to be at least one customer. Start the game by pressing the 'play' button. Customers will the pop up automatically."),"",{timeOut:7e3})}},_this}return _inherits(HelpController,_Controller),_createClass(HelpController,[{key:"makeTrip",value:function makeTrip(a,b){var _this2=this,c=new Trip(this._makeTour(GAME.model.trips.tours[a]),{delay:b.delay||5e3,onEnd:function onEnd(){if(b.intro){var d=_this2.tripIntroTour.indexOf(a)+1;if(d<_this2.tripIntroTour.length){var f=_this2.tripIntroTour[d];_this2.makeTrip(f,{intro:d<_this2.tripIntroTour.length-1})}}}});this.tripInit[a](c)}},{key:"_makeTour",value:function _makeTour(a){return a.map(function(b){var c={sel:$(b.anchor),content:Controller.l(b.content),expose:b.hasOwnProperty("expose")&&b.expose,position:b.position};return b.hasOwnProperty("delay")&&(c.delay=b.delay),c})}}]),HelpController}(Controller);