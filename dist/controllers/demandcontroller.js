"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&("object"==typeof call||"function"==typeof call)?call:self}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DemandController=function(_Controller){function DemandController(){_classCallCheck(this,DemandController);var _this=_possibleConstructorReturn(this,(DemandController.__proto__||Object.getPrototypeOf(DemandController)).call(this));return _this.hours=GAME.model.config.hours,_this.yearDays=GAME.model.config.yearDays,_this.hours=GAME.model.config.hours,_this}return _inherits(DemandController,_Controller),_createClass(DemandController,[{key:"doCustomerOrderGeneration",value:function doCustomerOrderGeneration(){if(1.72<this._normalDistribution()||8==GAME.model.config.hours%24){var a=new CustomerController;a.generateOrder()}}},{key:"randomDemandGenerator",value:function randomDemandGenerator(a){var b=a.mean+this._seasonalComponent(a.seasonality);return Math.max(this._normalDistribution(b,a.variance),0)}},{key:"_seasonalComponent",value:function _seasonalComponent(a){if(!a.hasSeasonality)return 0;var b=Math.floor(this.hours/24),c=a.isWinterProduct?0:this.yearDays/2;return a.amplitude*Math.cos(2*Math.PI*(b-c)/this.yearDays)}},{key:"_normalDistribution",value:function _normalDistribution(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,c=1-Math.random(),d=1-Math.random(),e=Math.sqrt(-2*Math.log(c))*Math.cos(2*Math.PI*d);return e*b+a}}]),DemandController}(Controller);